//Test script for Applet 'MyProject'

powerup;
//0 Select MyProject //aid/28E87B8303/1A
0x00 0xA4 0x04 0x00 0X06 0X28 0XE8 0X7B 0X83 0X03 0X1B 0x7F;

//1 SELECT_FILE (classe erronée):
0x70 0xA4 0x00 0x00 0x02 0xFF 0x02 0x00;

//2 SELECT_FILE FF02:
0x80 0xA4 0x00 0x00 0x02 0xFF 0x02 0x00;

//3 WRITE_RECORD: (selected file FF02) (0x45)
0x80 0xD2 0x00 0x00 0x01 0x45 0x00;


//-----------------------------------------
//5 SUBMIT_CODE: (longueur non acceptée)
0x80 0x20 0x00 0x00 0x04 0xAA 0xBB 0xCC 0xDD 0x00;

//5bis1 SUBMIT_CODE: (tentative 1 fausse)
0x80 0x20 0x00 0x00 0x08 0xAA 0xBB 0xFF 0xFF 0x11 0x25 0x14 0x00 0x00;

//5bis2 SUBMIT_CODE: (code vrai)
0x80 0x20 0x00 0x00 0x08 0xAA 0xBB 0xCC 0xDD 0x00 0xBC 0x61 0x4E 0x00;

//6 WRITE_RECORD: (selected file FF02) (écriture de 0x45)
0x80 0xD2 0x00 0x00 0x01 0x45 0x00;


//-----------------------------------------
//8 WRITE_RECORD: (selected file FF02) (0x23)
0x80 0xD2 0x00 0x00 0x01 0x23 0x00;

//9 READ_RECORD: (selected file FF02) (1 byte)
0x80 0xB2 0x00 0x00 0x01 0x00 0x01;


//-----------------------------------------
//10 SELECT FILE FF03:
0x80 0xA4 0x00 0x00 0x02 0xFF 0x03 0x00;

//11 READ_RECORD: (selected file FF03) (8 bytes)
0x80 0xB2 0x00 0x00 0x01 0x00 0x08;

//12 WRITE_RECORD: (selected file FF03) new IC and PIN(00 00 11 11 and 00 00 22 22)
0x80 0xD2 0x00 0x00 0x08 0x00 0x00 0x00 0x11 0x00 0x00 0x00 0x22 0x00;

//13 READ_RECORD: (selected file FF03) (8 bytes)
0x80 0xB2 0x00 0x00 0x01 0x00 0x08;

//14 SUBMIT_CODE: (submit the new admin code)
0x80 0x20 0x00 0x00 0x08 0x00 0x00 0x00 0x11 0x00 0x00 0x00 0x22 0x00;


//-----------------------------------------
//15 SELECT FILE FF04:
0x80 0xA4 0x00 0x00 0x02 0xFF 0x04 0x00;

//16 WRITE_RECORD: (selected file FF04) (six parameters of the file to be created (AA01), (2 enregistrements)
0x80 0xD2 0x00 0x00 0x06 0x03 0x02 0x33 0x44 0xAA 0x01 0x00;

//16 WRITE_RECORD: (selected file FF04) (2ème fichier) (1 enregistrement) (même securité)
0x80 0xD2 0x00 0x00 0x06 0x02 0x01 0x33 0x44 0xAA 0x02 0x00;

//17 READ_RECORD: (selected file FF04) (Le: 0x06 bytes) : index=0 (enregistrement d'indice 0)
0x80 0xB2 0x00 0x00 0x01 0x00 0x06;

//17 READ_RECORD: (selected file FF04) (2ème fichier) index =1 (enregistrement d'indice 1)
0x80 0xB2 0x00 0x00 0x01 0x01 0x06;


//-----------------------------------------
//18 SELECT FILE AA91 (not found):
0x80 0xA4 0x00 0x00 0x02 0xAA 0x91 0x00;

//19 SELECT FILE AA01:
0x80 0xA4 0x00 0x00 0x02 0xAA 0x01 0x00;

//SUBMIT_CODE: (submit the new code corresponding to user file(s))
0x80 0x20 0x00 0x00 0x02 0x33 0x44 0x00;

//WRITE_RECORD: (selected file AA01) (P1=0x01, P2=0x04)
0x80 0xD2 0x01 0x04 0x03 0xAB 0xCD 0xEF 0x00;

//WRITE_RECORD: (selected file AA01) (P1=0x02, P2=0x04)
0x80 0xD2 0x02 0x04 0x03 0x12 0x34 0x56 0x00;

//-----------------------------------------
//READ_RECORD: (selected file AA01) (0x04 bytes) //Le=length of data in response, Lc=1, data: does not exist (P1=0x01, P2=0x04)
0x80 0xB2 0x01 0x04 0x01 0x00 0x03;

//READ_RECORD: (selected file AA01) (0x04 bytes) //Le=length of data in response, Lc=1, data: does not exist (P1=0x02, P2=0x04)
0x80 0xB2 0x02 0x04 0x01 0x00 0x03;


////////-----------------------------------
//19 SELECT FILE AA02:
0x80 0xA4 0x00 0x00 0x02 0xAA 0x02 0x00;

//WRITE_RECORD: (selected file AA02) (P1=0x01, P2=0x04)
0x80 0xD2 0x01 0x04 0x02 0x19 0x98 0x00;

//READ_RECORD: (selected file AA02)
0x80 0xB2 0x01 0x04 0x01 0x00 0x02;


//-----------------------------------------
//CLEAR_CARD:(non accessible)
0x80 0x30 0x00 0x00 0x00 0x00;

//SUBMIT_CODE: (submit the admin code)
0x80 0x20 0x00 0x00 0x08 0x00 0x00 0x00 0x11 0x00 0x00 0x00 0x22 0x00;

//CLEAR_CARD:(accessible)
0x80 0x30 0x00 0x00 0x00 0x00;

//-----------------------------------------
//5bis1 SUBMIT_CODE: (tentative 1 fausse)
0x80 0x20 0x00 0x00 0x08 0xAA 0xBB 0xFF 0xFF 0x11 0x25 0x14 0x00 0x00;

//5bis1 SUBMIT_CODE: (tentative 2 fausse)
0x80 0x20 0x00 0x00 0x08 0xAA 0xBB 0xFF 0xFF 0x11 0x25 0x14 0x00 0x00;

//5bis1 SUBMIT_CODE: (tentative 3 fausse)
0x80 0x20 0x00 0x00 0x08 0xAA 0xBB 0xFF 0xFF 0x11 0x25 0x14 0x00 0x00;

// les instructions suivantes devront etre bloquées:::: on peut sélectionner, mais on ne peux pas modifier les données, ni lire
// SELECT_FILE FF02: 
0x80 0xA4 0x00 0x00 0x02 0xFF 0x02 0x00;

// READ_RECORD: (selected file FF02) (1 byte)
0x80 0xB2 0x00 0x00 0x01 0x00 0x00;


powerdown;